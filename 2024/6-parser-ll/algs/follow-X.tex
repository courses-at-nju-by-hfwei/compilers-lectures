% follow-X.tex

\begin{algorithm}[H]
% \caption{}
% \label{alg:S}
\begin{algorithmic}[1]
  \Procedure{\purple{follow}}{$X$}
    \pause
    \For{\red{$X$ 是开始符号}}  \Comment{\blue{规则1: $X$ 是开始符号}}
      \State $\follow(X) \gets \follow(X) \cup \set{\$}$
    \EndFor

    \pause
    \hStatex
    \For{\red{$A \to \alpha X$}} \Comment{\blue{规则2: $X$ 是某产生式右部的最后一个符号}}
      \State $\follow(X) \gets \follow(X) \cup \follow(A)$
    \EndFor

    \pause
    \hStatex
    \For{\red{$A \to \alpha X \beta$}} \Comment{\blue{规则3: $X$ 是某产生式右部中间的一个符号}}
      \State $\follow(X) \gets \follow(X) \cup (\first(\beta) \setminus \set{\epsilon})$
      \If{\red{$\epsilon \in \first(\beta)$}}
        \State $\follow(X) \gets \follow(X) \cup \follow(A)$
      \EndIf
    \EndFor
  \EndProcedure
\end{algorithmic}
\end{algorithm}