% overview.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 1.00\textwidth}{figs/isel-def}

  \pause
  \vspace{0.50cm}
  \begin{center}
    这实际上是一个\red{组合优化}问题

    \pause
    \vspace{0.50cm}
    \blue{``略有耳闻''}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    遗憾的是, 没有``合适的''教材
  \end{center}

  \pause
  \begin{columns}
    \column{0.33\textwidth}
      \begin{center}
        \fig{width = 0.80\textwidth}{figs/llvm-core-book}
        {\footnotesize \url{https://llvm.org/docs/CodeGenerator.html}}
      \end{center}
    \pause
    \column{0.33\textwidth}
      \fig{width = 0.85\textwidth}{figs/dragon-book}
      \begin{center}
        {\small 树翻译方案}
      \end{center}
    \pause
    \column{0.33\textwidth}
      \fig{width = 0.90\textwidth}{figs/BiSheng-book}
      \begin{center}
        {\small 最佳覆盖与最优覆盖算法}
      \end{center}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 0.80\textwidth}{figs/compiler-framework}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \blue{\bf \texttt{(in-memory) LLVM IR} \quad
      \texttt{SelectionDAG} \quad \texttt{MachineInstr}
      \quad \texttt{MCInst}}
    \fig{width = 0.80\textwidth}{figs/codegen-framework}

    \pause
    \vspace{0.30cm}
    \red{Where is ``Prologue/Epilogue Insertion''?}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \href{https://godbolt.org/z/4jbbabM6x}{f0-O0 @ Compiler Explorer}
    \fig{width = 1.00\textwidth}{figs/f0-O0}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \href{https://godbolt.org/z/c7PrEK4c7}{f0-O1 @ Compiler Explorer}
    \fig{width = 1.00\textwidth}{figs/f0-O1}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.80\textwidth}{figs/isel-framework}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{SDISel} \quad \blue{FastISel} (per basic block) \quad GlobalISel (per function)

    \fig{width = 0.80\textwidth}{figs/SelectionDAG}

    GlobalISel (per function)
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%