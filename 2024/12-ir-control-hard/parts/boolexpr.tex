% boolexpr.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.75\textwidth}{figs/cfg-boolexpr}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.85\textwidth}{figs/SDD-true-false}

    \pause
    \vspace{0.80cm}
    \teal{\texttt{if (true) {\bf assign}}}

    \vspace{0.20cm}
    \fig{width = 1.00\textwidth}{figs/SDD-if}

    \vspace{0.20cm}
    \teal{\texttt{if (false) {\bf assign}}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.80\textwidth}{figs/SDD-lnot}

    \pause
    \vspace{0.80cm}
    \teal{\texttt{if (!true) {\bf assign}}}

    \vspace{0.20cm}
    \fig{width = 1.00\textwidth}{figs/SDD-if}

    \vspace{0.20cm}
    \teal{\texttt{if (!false) {\bf assign}}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 短路求值}
    \fig{width = 0.95\textwidth}{figs/SDD-lor}

    \pause
    \vspace{0.80cm}
    \teal{\texttt{if (true || false) {\bf assign}}}

    \vspace{0.20cm}
    \fig{width = 0.95\textwidth}{figs/SDD-if}

    \vspace{0.20cm}
    \teal{\texttt{if (false || true) {\bf assign}}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 短路求值}
    \fig{width = 0.95\textwidth}{figs/SDD-land}

    \pause
    \vspace{0.80cm}
    \teal{\texttt{if (true \&\& false) {\bf assign}}}

    \vspace{0.20cm}
    \fig{width = 0.95\textwidth}{figs/SDD-if}

    \vspace{0.20cm}
    \teal{\texttt{if (false \&\& true) {\bf assign}}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 1.00\textwidth}{figs/SDD-rel}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \teal{\texttt{\large if (x < 100 || x > 200 \&\& x != y) x = 0;}}

    \fig{width = 1.00\textwidth}{figs/if-boolexpr-ir}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \teal{\texttt{\large if (x < 100 || x > 200 \&\& x != y) x = 0;}}

    \vspace{0.30cm}
    \fig{width = 0.50\textwidth}{figs/if-tac}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \texttt{\teal{clang} -S -emit-llvm if-boolexpr.c -o if-boolexpr-opt0.ll}

    \vspace{0.30cm}
    \fig{width = 0.50\textwidth}{figs/if-boolexpr-c}
    \vspace{0.20cm}

    \texttt{\teal{opt} -dot-cfg if-boolexpr-opt0.ll} \\[5pt]
    \texttt{\teal{dot} -Tpdf .main.dot -o if-boolexpr-opt0-cfg.pdf}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 0.50\textwidth}{figs/if-boolexpr-opt0-cfg}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \teal{\texttt{CodeGenListener.java}}

    \fig{width = 0.40\textwidth}{figs/codegen-logo}

    \pause
    \vspace{0.50cm}
    \red{\bf 思考: 如何实现增量式翻译?}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{columns}
    \column{0.50\textwidth}
      \fig{width = 0.60\textwidth}{figs/while-if-II}
    \column{0.50\textwidth}
      \fig{width = 0.50\textwidth}{figs/while-if-II-ir-hard}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{columns}
    \column{0.50\textwidth}
      \fig{width = 0.80\textwidth}{figs/bool-short-circuit-II}
    \column{0.50\textwidth}
      \fig{width = 0.50\textwidth}{figs/bool-short-circuit-II-ir-hard}
  \end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 0.80\textwidth}{figs/grammars}
\end{frame}
%%%%%%%%%%%%%%%%%%%%