% first-X.tex

\begin{algorithm}[H]
% \caption{}
% \label{alg:S}
\begin{algorithmic}[1]
  \Procedure{\purple{first}}{$X$}
    \If{\red{$X \in T$}}  \Comment{\blue{规则1: $X$是终结符}}
      \State $\first(X) = X$
    \EndIf

    \hStatex
    \For{\red{$X \to Y_{1} Y_{2} \dots Y_{k}$}} \Comment{\blue{规则2: $X$是非终结符}}
      \State $\first(X) \gets \first(X) \cup \first(Y_{1})$
      \For{$i \gets 2 \;\text{\bf to } k$}
          \If{$\epsilon \in L(Y_{1} \dots Y_{i-1})$}
            \State $\first(X) \gets \first(X) \cup \first(Y_{i})$
          \EndIf
      \EndFor
      \If{\red{$\epsilon \in L(Y_{1} \dots Y_{k})$}} \Comment{\blue{规则3: $X$ 可推导出空串}}
        \State $\first(X) \gets \first(X) \cup \set{\epsilon}$
      \EndIf
    \EndFor
  \EndProcedure
\end{algorithmic}
\end{algorithm}